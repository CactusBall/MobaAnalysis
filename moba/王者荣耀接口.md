# è·å–ç”¨æˆ·ä¿¡æ¯

## API
`cgi-bin/gamewap/getprofile2`

## å‚æ•°

| å‚æ•°å        | è¯´æ˜       |
| ------------- | ---------- |
| t             | profile_id |
| method        | è¯·æ±‚çš„æ–¹å¼ |
| abtest_cookie | ç©º         |
| abt           | 27         |
| QB            | ç©º         |

## è¿”å›ç»“æœ

```json
{
	"errcode": 0,
	"errmsg": "ok",
	"header": {
		"nick_name": "é©¬è‡ªè¾¾î€ƒî”¨",
		"head_img_url": "http:\/\/wx.qlogo.cn\/mmhead\/0T8yO33zeeiaNH5rJZQSBBibpFH85EaLLWudKOz12mobJrCGAx3dp89g\/0",
		"desc": "æ¸¸æˆå¹´é¾„5.0å¹´ï¼Œç©è¿‡12æ¬¾æ¸¸æˆ",
		"achievement_list": []
	},
	"my_game": {
		"title": "ä»–çš„æ¸¸æˆ",
		"game_list": [{
			"icon_url": "https:\/\/mmocgame.qpic.cn\/wechatgame\/HurH4elIxzKPicfe5kYd9WL0JjNY2bzvfeTYMMjAoGczO9j6cLodsiaTIlV7URtCJU\/0",
			"app_name": "ç‹è€…è£è€€",
			"desc": "æŸ¥çœ‹æœ€æ–°æˆ˜ç»©",
			"appid": "wx95a3a4d7c627e07d",
			"jump_url": "https:\/\/game.weixin.qq.com\/cgi-bin\/h5\/static\/smobadynamic\/dynamic.html?openid=owanlsr79FJjp8n9KwkgaNwkthMA",
			"last_active_time": 1535038516
		}],
		"total_games": 12,
		"jump_url": "https:\/\/game.weixin.qq.com\/cgi-bin\/h5\/static\/profile_v1\/profile_game.html?t=g1NlbysGi4KDI5aTA0V-65f9QlaA"
	},
	"openid": "g1NlbysGi4KDI5aTA0V-65f9QlaA",
	"is_guest": true,
	"share_info": {
		"title": "ğŸ’‹ğŸ’çš„å¾®ä¿¡æ¸¸æˆä¸»é¡µ",
		"desc": "æ¸¸æˆå¹´é¾„5.0å¹´ï¼Œå·²ç•…ç©12æ¬¾æ¸¸æˆï¼Œæ¥çœ‹çœ‹æˆ‘çš„æ¸¸æˆåŠ¨æ€å§ï¼"
	}
}
```

ä»ä¸­å¯ä»¥è·å–åˆ°ç‹è€…è£è€€çš„ openid

## è¿”å›å‚æ•°è¯´æ˜

### game_list ç©è¿‡çš„æ¸¸æˆ

| å‚æ•°             | ç±»å‹   | è¯´æ˜         |
| ---------------- | ------ | ------------ |
| app_name         | String | æ¸¸æˆåç§°     |
| last_active_time | long   | ä¸Šæ¬¡æ´»è·ƒæ—¶é—´ |



# è·å–ç”¨æˆ·ä¸»é¡µ

## API 
`cgi-bin/gamewap/getusermobagameindex`
## æ–¹æ³• 
GET
## å‚æ•°

| å‚æ•°å      | è¯´æ˜ |
| ----------- | ---- |
| openid      | ç”¨æˆ· |
| key         | ç©º   |
| uid         | ç©º   |
| pass_ticket | é‰´æƒ |

## è¿”å›

```json
{
	"errcode": 0,
	"errmsg": "ok",
	"user_info": {
		"nick_name": "ğŸ’‹ğŸ’",
		"head_img_url": "http:\/\/wx.qlogo.cn\/mmhead\/0T8yO33zeeiaNH5rJZQSBBibpFH85EaLLWudKOz12mobJrCGAx3dp89g",
		"nobility_rank": 0,
		"game_name": "Meå·²ç»æ­»å’¯",
		"service_name": "å¾®ä¿¡40åŒº-çº¢æœˆè¿½å¿†",
		"rank_desc": 24,
		"winning_percentage": 0.51,
		"rank_lift": -1,
		"win_desc": 44,
		"rank_star": 4,
		"is_block": false,
		"ladder_score": 8.789,
		"zone_area_id": 4050,
		"is_guest": true,
		"open_id": "owanlsr79FJjp8n9KwkgaNwkthMA",
		"is_new": false,
		"profile_url": "https:\/\/game.weixin.qq.com\/cgi-bin\/h5\/static\/profile_v1\/index.html?t=g1NlbysGi4KDI5aTA0V-65f9QlaA",
		"is_join_ladder": true,
		"mmgc_is_block": false
	},
	"battle_info": {
		"battle_list": [{
			"hero_icon": "http:\/\/mmocgame.qpic.cn\/wechatgame\/mEMdfrX5RU0ZSdSR0tkkKuubpKBHNLqRHD1amAn2IJxZUNkLwqj6PLE0XzPIPoYL\/0",
			"kda": 3,
			"game_type": 1,
			"kill_cnt": 6,
			"dead_cnt": 3,
			"assist_cnt": 3,
			"game_seq": 1535041351,
			"is_mvp": false,
			"is_friend": false,
			"is_victory": true,
			"label_list": [],
			"game_svr_entity": 2230,
			"relay_svr_entity": 2618229376,
			"has_video": false,
			"lose_mvp": false,
			"dt_event_time": 1535042420,
			"multi_camp_rank": 0,
			"honor_desc": "",
			"hero_position": ""
		}]
	}
}
```

ä»ä¸­å¯ä»¥è·å–åˆ°æˆ˜å±€çš„å”¯ä¸€æ ‡ç¤º **game_seq**

## è¿”å›å‚æ•°è¯´æ˜

| å‚æ•°      | ç±»å‹   | è¯´æ˜                            |
| --------- | ------ | ------------------------------- |
| rank_desc | int    | æ®µä½æè¿°(å…·ä½“è§ `ç‹è€…è£è€€åˆ†æ®µ`) |
| rank_star | int    | æ®µä½æ˜Ÿæ˜Ÿ                        |
| game_name | String | æ¸¸æˆæ˜µç§°                        |
| nick_name | String | å¾®ä¿¡æ˜µç§°                        |



# è·å–æˆ˜æ–—åˆ—è¡¨

## API

`cgi-bin/gamewap/getusermobabattleinfolist`

## æ–¹æ³•

GET

## å‚æ•°

| å‚æ•°å       | è¯´æ˜               |
| ------------ | ------------------ |
| open_id      |                    |
| offset       | ä¸€é¡µè·å–çš„å¯¹æˆ˜æ•°é‡ |
| zone_area_id | ç”¨æˆ·çš„åŒºå·         |

## è¿”å›

```json
{
    "battle_info": {
        "battle_list": [
            {
                "assist_cnt": 6,
                "dead_cnt": 4,
                "dt_event_time": 1536495488,
                "game_seq": 1536494278,
                "game_svr_entity": 55850,
                "game_type": 4,
                "has_video": false,
                "hero_icon": "https://mmocgame.qpic.cn/wechatgame/mEMdfrX5RU0ZWXJob0iayhPMeojFJzmyaQLExDb59IeMlX2Ft2y4cUgDZMP4nrnqF/0",
                "hero_position": "",
                "honor_desc": "",
                "is_friend": true,
                "is_mvp": false,
                "is_victory": false,
                "kda": 2.75,
                "kill_cnt": 5,
                "label_list": [],
                "lose_mvp": false,
                "multi_camp_rank": 0,
                "relay_svr_entity": 319816320
            }
        ]
    },
    "errcode": 0,
    "errmsg": "ok",
    "has_next": true,
    "next_offset": 10,
    "user_info": {
        "head_img_url": "http://wx.qlogo.cn/mmhead/Q3auHgzwzM7ko7jAsSSn8kcysz6Ip6ezIUdaIalYta8oTc6FUflz2w",
        "is_block": true,
        "is_guest": true,
        "mmgc_is_block": false,
        "nick_name": "å™",
        "profile_url": "https://game.weixin.qq.com/cgi-bin/h5/static/profile_v1/index.html?t=g1NlbyuoXXJUREpVUw1vfhg0EX4c"
    }
}
```

### è¿”å›å‚æ•°è¯´æ˜

#### BattleList

| å‚æ•°          | ç±»å‹  | è¯´æ˜                       |
| ------------- | ----- | -------------------------- |
| dt_event_time | long  | æœ¬åœºæˆ˜æ–—å‘ç”Ÿçš„æ—¶é—´         |
| is_friend     | bool  | æ˜¯å¦å¼€é»‘                   |
| is_mvp        | bool  | æ˜¯å¦æ˜¯ MVP                 |
| lose_mvp      | bool  | æ˜¯å¦æ˜¯è´¥æ–¹ MVP             |
| is_victory    | bool  | æ˜¯å¦è·èƒœ                   |
| kda           | float | kda                        |
| game_type     | int   | æ¸¸æˆç±»å‹ã€å…·ä½“å«ä¹‰å¾…è¡¥å……ã€‘ |
| assist_cnt    | int   | åŠ©æ”»                       |
| dead_cnt      | int   | æ­»äº¡                       |
| kill_cnt      | int   | å‡»æ€                       |

# è·å–æˆ˜å±€è¯¦æƒ…

## API
`/cgi-bin/gamewap/getbattledetail`

## æ–¹æ³•
GET

## å‚æ•°

| å‚æ•°å           | è¯´æ˜              |
| ---------------- | ----------------- |
| game_svr_entity  |                   |
| game_seq         | æˆ˜å±€å”¯ä¸€æ ‡ç¤º      |
| relay_svr_entity |                   |
| openid           | å½“å‰ç”¨æˆ·çš„ openid |
| uin              | ç©º                |
| key              | ç©º                |
| pass_ticket      | é‰´æƒ              |

## è¿”å›

```json
{
	"errcode": 0,
	"errmsg": "ok",
	"blue_kill_cnt": 28,
	"red_kill_cnt": 16,
	"is_blue": true,
	"game_type": 1,
	"game_time": 948,
	"is_victory": true,
	"maybe_delay": false,
	"user_info": {
		"nick_name": "ğŸ’‹ğŸ’",
		"head_img_url": "http:\/\/wx.qlogo.cn\/mmhead\/0T8yO33zeeiaNH5rJZQSBBibpFH85EaLLWudKOz12mobJrCGAx3dp89g",
		"is_block": false,
		"is_guest": true,
		"profile_url": "https:\/\/game.weixin.qq.com\/cgi-bin\/h5\/static\/profile_v1\/index.html?t=g1NlbysGi4KDI5aTA0V-65f9QlaA",
		"mmgc_is_block": false
	},
	"user_battle_detail": [{
		"name": "ç–¯å­å­",
		"game_name": "å›çŸ¥æˆ‘æƒœç¬‘",
		"hero_id": 106,
		"hero_name": "å°ä¹”",
		"hero_icon": "http:\/\/mmocgame.qpic.cn\/wechatgame\/mEMdfrX5RU1VuKBma49ib9K7QiahibUrtnuLkIhd3Hic2icQA0AD6ql10lLjTB6VX2Orp\/0",
		"equipment_list": [{
			"name": "å†·é™ä¹‹é´",
			"icon": "http:\/\/mmocgame.qpic.cn\/wechatgame\/mEMdfrX5RU2bibhObeZ81RZI8iagnQUEsfG6bXw8rcwECRLvUV087UO3lrgxZ9LMzo\/0",
			"id": 99
		}, {
			"name": "ç—›è‹¦é¢å…·",
			"icon": "http:\/\/mmocgame.qpic.cn\/wechatgame\/mEMdfrX5RU2g7CICviaFKbiaWIibIMX3wBUVTVa2DkzT46aeJG8dPHt8UDC2oUG4K1P\/0",
			"id": 135
		}, {
			"name": "å›å“ä¹‹æ–",
			"icon": "http:\/\/mmocgame.qpic.cn\/wechatgame\/mEMdfrX5RU1iaMUNKqVtug44EnVVH6X2fvgeh2ZKZukCMQnSIqMedQiaXvgNtiaCjicI\/0",
			"id": 131
		}, {
			"name": "æ¢¦é­‡ä¹‹ç‰™",
			"icon": "http:\/\/mmocgame.qpic.cn\/wechatgame\/mEMdfrX5RU1CTOgTsyrSx0U1eeGm8icpna321J6wezicpGW0TJWfVFTI3UILwDx5u2\/0",
			"id": 258
		}, {
			"name": "å…ƒç´ æ–",
			"icon": "http:\/\/mmocgame.qpic.cn\/wechatgame\/mEMdfrX5RU0eznTg263WjWiaoibSDblibIYpXSYmQJjQwSuia7OX1d68cicicpPqLL7Kkx\/0",
			"id": 255
		}, {
			"name": "å¤§æ£’",
			"icon": "http:\/\/mmocgame.qpic.cn\/wechatgame\/mEMdfrX5RU2sQhwwyANqliaysbg1fVDiae2vo7oFpH6ZhQWphs17QORyiaufXkicyyFF\/0",
			"id": 71
		}],
		"label_list": [10],
		"total_hurt": 162725,
		"total_hurt_hero": 47302,
		"suffer_hurt": 46084,
		"total_hurt_percent": 0.118054139857,
		"total_hurt_hero_percent": 0.165455823764,
		"suffer_hurt_percent": 0.155067348168,
		"kill_cnt": 4,
		"dead_cnt": 3,
		"assist_cnt": 11,
		"is_blue": true,
		"grade_of_rank": 21,
		"lose_mvp": false,
		"is_mvp": false,
		"pvp_level": 15,
		"total_in_battle_coin": 8537,
		"used_time": 948,
		"mvp_score_tth": 7.9,
		"profile_url": "https:\/\/game.weixin.qq.com\/cgi-bin\/h5\/static\/profile_v1\/index.html?t=g1Nlbyg0Q_k_pzR7ahPNKEtZT5Mg",
		"zone_area_id": 3088,
		"is_low_score": false,
		"is_victory": true,
		"acnt_camp": 1,
		"is_five_army": false,
		"game_result": 1,
		"six_kill": 0,
		"seven_kill": 0,
		"eight_kill": 0,
		"game_score": 0,
		"multi_camp_rank": 0
	}]
}
```

å¯ä»¥è·å–åˆ°å‚æˆ˜äººå‘˜çš„ profile_idï¼Œç”±æ­¤å¯ä»¥å¼€ä¸‹ä¸€ä¸ªå¾ªç¯

## è¿”å›å‚æ•°è¯´æ˜

### user_battle_detail

| å‚æ•°                    | ç±»å‹   | è¯´æ˜                       |
| ----------------------- | ------ | -------------------------- |
| assist_cnt              | int    | åŠ©æ”»                       |
| dead_cnt                | int    | æ­»äº¡                       |
| kill_cnt                | int    | å‡»æ€                       |
| hero_name               | String | è‹±é›„åç§°                   |
| is_blue                 | bool   | æ˜¯å¦æ˜¯è“æ–¹                 |
| used_time               | long   | æ¯”èµ›ç”¨æ—¶ï¼ˆå•ä½ç§’ï¼‰         |
| mvp_score_tth           | float  | è¡¨ç°è¯„åˆ†                   |
| total_hurt              | long   | é€ æˆçš„ä¼¤å®³æ€»é‡             |
| total_hurt_hero         | long   | å¯¹è‹±é›„çš„ä¼¤å®³æ€»é‡           |
| total_hurt_hero_percent | double | å¯¹è‹±é›„çš„ä¼¤å®³çš„å å…¨é˜Ÿçš„æ¯”ä¾‹ |
| game_name               | String | æ¸¸æˆæ˜µç§°                   |
| name                    | String | å¾®ä¿¡æ˜µç§°                   |